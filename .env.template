# =============================================================================
# ECHOELMUSIC PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual production values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3000
API_URL=https://api.echoelmusic.com
FRONTEND_URL=https://app.echoelmusic.com
CORS_ORIGINS=https://echoelmusic.com,https://app.echoelmusic.com

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 64
JWT_SECRET=REPLACE_WITH_64_BYTE_HEX_STRING
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=REPLACE_WITH_32_BYTE_HEX_STRING

# API Rate Limiting
API_RATE_LIMIT=1000  # requests per 15 minutes per IP

# -----------------------------------------------------------------------------
# DATABASE (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://echoelmusic:REPLACE_PASSWORD@db.echoelmusic.com:5432/echoelmusic_production
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_SSL=true

# -----------------------------------------------------------------------------
# CACHE (Redis)
# -----------------------------------------------------------------------------
REDIS_URL=redis://:REPLACE_PASSWORD@cache.echoelmusic.com:6379/0
REDIS_TLS=true

# -----------------------------------------------------------------------------
# STRIPE PAYMENT PROCESSING
# -----------------------------------------------------------------------------
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_YOUR_STRIPE_LIVE_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_YOUR_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_YOUR_WEBHOOK_SECRET

# Price IDs (create in Stripe Dashboard â†’ Products)
STRIPE_PRICE_BASIC_MONTHLY=price_REPLACE_BASIC_MONTHLY_ID    # $9/month
STRIPE_PRICE_PRO_MONTHLY=price_REPLACE_PRO_MONTHLY_ID        # $49/month
STRIPE_PRICE_STUDIO_MONTHLY=price_REPLACE_STUDIO_MONTHLY_ID  # $249/month

STRIPE_PRICE_BASIC_YEARLY=price_REPLACE_BASIC_YEARLY_ID      # $90/year
STRIPE_PRICE_PRO_YEARLY=price_REPLACE_PRO_YEARLY_ID          # $490/year
STRIPE_PRICE_STUDIO_YEARLY=price_REPLACE_STUDIO_YEARLY_ID    # $2490/year

# -----------------------------------------------------------------------------
# WEB3 & BLOCKCHAIN (Polygon Mainnet)
# -----------------------------------------------------------------------------
# Get from: https://infura.io or https://alchemy.com
INFURA_PROJECT_ID=REPLACE_WITH_INFURA_PROJECT_ID
ALCHEMY_API_KEY=REPLACE_WITH_ALCHEMY_API_KEY
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/REPLACE_WITH_YOUR_KEY

# Smart Contract Addresses (deploy contracts first!)
NFT_CONTRACT_ADDRESS=0xREPLACE_AFTER_DEPLOYING_CONTRACT
CONTRACT_OWNER_ADDRESS=0xREPLACE_WITH_YOUR_WALLET_ADDRESS

# Private key for contract deployment & transactions (NEVER share this!)
# For production, use AWS KMS or similar key management service
DEPLOYER_PRIVATE_KEY=0xREPLACE_WITH_DEPLOYER_WALLET_PRIVATE_KEY

# NFT Minting Settings
NFT_MINT_PRICE_MATIC=0.01  # ~$20 when MATIC = $2000
NFT_ROYALTY_PERCENTAGE=10  # 10% royalties to creator

# -----------------------------------------------------------------------------
# IPFS (for NFT metadata)
# -----------------------------------------------------------------------------
# Get from: https://pinata.cloud
PINATA_API_KEY=REPLACE_WITH_PINATA_API_KEY
PINATA_SECRET_KEY=REPLACE_WITH_PINATA_SECRET_KEY
PINATA_JWT=REPLACE_WITH_PINATA_JWT

# Alternative: Own IPFS node
IPFS_NODE_URL=https://ipfs.echoelmusic.com
IPFS_GATEWAY_URL=https://gateway.echoelmusic.com/ipfs

# -----------------------------------------------------------------------------
# AWS S3 (Media Storage)
# -----------------------------------------------------------------------------
# Get from: https://console.aws.amazon.com/iam
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_ACCESS_KEY
AWS_REGION=eu-central-1
AWS_S3_BUCKET=echoelmusic-media-production
AWS_CLOUDFRONT_DISTRIBUTION_ID=EXXXXXXXXXXXXX
AWS_CLOUDFRONT_URL=https://cdn.echoelmusic.com

# -----------------------------------------------------------------------------
# STREAMING PLATFORMS
# -----------------------------------------------------------------------------

# Twitch
# Get from: https://dev.twitch.tv/console/apps
TWITCH_CLIENT_ID=REPLACE_WITH_TWITCH_CLIENT_ID
TWITCH_CLIENT_SECRET=REPLACE_WITH_TWITCH_CLIENT_SECRET
TWITCH_REDIRECT_URI=https://api.echoelmusic.com/auth/twitch/callback

# YouTube
# Get from: https://console.cloud.google.com
YOUTUBE_API_KEY=REPLACE_WITH_YOUTUBE_API_KEY
YOUTUBE_CLIENT_ID=REPLACE_WITH_YOUTUBE_CLIENT_ID
YOUTUBE_CLIENT_SECRET=REPLACE_WITH_YOUTUBE_CLIENT_SECRET
YOUTUBE_REDIRECT_URI=https://api.echoelmusic.com/auth/youtube/callback

# Instagram
# Get from: https://developers.facebook.com
INSTAGRAM_APP_ID=REPLACE_WITH_INSTAGRAM_APP_ID
INSTAGRAM_APP_SECRET=REPLACE_WITH_INSTAGRAM_APP_SECRET
INSTAGRAM_REDIRECT_URI=https://api.echoelmusic.com/auth/instagram/callback

# TikTok
# Get from: https://developers.tiktok.com
TIKTOK_CLIENT_KEY=REPLACE_WITH_TIKTOK_CLIENT_KEY
TIKTOK_CLIENT_SECRET=REPLACE_WITH_TIKTOK_CLIENT_SECRET
TIKTOK_REDIRECT_URI=https://api.echoelmusic.com/auth/tiktok/callback

# -----------------------------------------------------------------------------
# MUSIC DISTRIBUTION
# -----------------------------------------------------------------------------

# DistroKid
# Get from: https://distrokid.com/api
DISTROKID_API_KEY=REPLACE_WITH_DISTROKID_API_KEY
DISTROKID_USER_ID=REPLACE_WITH_YOUR_DISTROKID_USER_ID

# Spotify
# Get from: https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=REPLACE_WITH_SPOTIFY_CLIENT_ID
SPOTIFY_CLIENT_SECRET=REPLACE_WITH_SPOTIFY_CLIENT_SECRET

# Apple Music
# Get from: https://developer.apple.com/account
APPLE_MUSIC_KEY_ID=REPLACE_WITH_APPLE_MUSIC_KEY_ID
APPLE_MUSIC_TEAM_ID=REPLACE_WITH_APPLE_MUSIC_TEAM_ID
APPLE_MUSIC_PRIVATE_KEY_PATH=/path/to/AuthKey_XXXXXXXXXX.p8

# -----------------------------------------------------------------------------
# EMAIL
# -----------------------------------------------------------------------------
# Get from: https://sendgrid.com
SENDGRID_API_KEY=SG.REPLACE_WITH_SENDGRID_API_KEY
FROM_EMAIL=hello@echoelmusic.com
SUPPORT_EMAIL=support@echoelmusic.com
NO_REPLY_EMAIL=noreply@echoelmusic.com

# Email Templates
SENDGRID_TEMPLATE_WELCOME=d-REPLACE_WITH_TEMPLATE_ID
SENDGRID_TEMPLATE_PASSWORD_RESET=d-REPLACE_WITH_TEMPLATE_ID
SENDGRID_TEMPLATE_PAYMENT_SUCCESS=d-REPLACE_WITH_TEMPLATE_ID
SENDGRID_TEMPLATE_NFT_MINTED=d-REPLACE_WITH_TEMPLATE_ID

# -----------------------------------------------------------------------------
# MONITORING & ANALYTICS
# -----------------------------------------------------------------------------

# Sentry (Error Tracking)
# Get from: https://sentry.io
SENTRY_DSN=https://REPLACE@sentry.io/REPLACE_PROJECT_ID
SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% of transactions
SENTRY_ENVIRONMENT=production

# Datadog (Monitoring)
# Get from: https://app.datadoghq.com
DATADOG_API_KEY=REPLACE_WITH_DATADOG_API_KEY
DATADOG_APP_KEY=REPLACE_WITH_DATADOG_APP_KEY

# Mixpanel (Product Analytics)
# Get from: https://mixpanel.com
MIXPANEL_TOKEN=REPLACE_WITH_MIXPANEL_TOKEN

# Google Analytics
GA_MEASUREMENT_ID=G-XXXXXXXXXX

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
ENABLE_NFT_MINTING=true
ENABLE_MULTI_STREAMING=true
ENABLE_CLOUD_RENDERING=true
ENABLE_DOLBY_ATMOS=false  # Requires separate license
ENABLE_BETA_FEATURES=false
MAINTENANCE_MODE=false

# -----------------------------------------------------------------------------
# RATE LIMITS & QUOTAS
# -----------------------------------------------------------------------------
MAX_FILE_UPLOAD_SIZE_MB=500
MAX_VIDEO_LENGTH_MINUTES=180
MAX_PROJECTS_PER_USER_FREE=3
MAX_PROJECTS_PER_USER_PRO=50
MAX_PROJECTS_PER_USER_STUDIO=999

# -----------------------------------------------------------------------------
# DEVELOPMENT OVERRIDES (remove in production!)
# -----------------------------------------------------------------------------
# Uncomment for testing purposes only
# SKIP_EMAIL_VERIFICATION=true
# MOCK_STRIPE_PAYMENTS=false
# USE_POLYGON_TESTNET=false
